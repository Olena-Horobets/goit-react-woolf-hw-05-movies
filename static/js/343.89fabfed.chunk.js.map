{"version":3,"file":"static/js/343.89fabfed.chunk.js","mappings":"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","sources":["webpack://goit-react-woolf-hw-05-movies/./src/components/Button/Button.module.css?ce6f","components/Button/index.jsx","webpack://goit-react-woolf-hw-05-movies/./src/components/Gallery/Gallery.module.css?dbe6","webpack://goit-react-woolf-hw-05-movies/./src/components/MovieCard/MovieCard.module.css?a4e5","components/MovieCard/index.jsx","components/Gallery/index.jsx","webpack://goit-react-woolf-hw-05-movies/./src/components/Pagination/Pagination.module.css?4da5","components/Pagination/index.jsx","webpack://goit-react-woolf-hw-05-movies/./src/pages/MoviesPage/MoviesPage.module.css?7ea7","pages/MoviesPage/index.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"Button_btn__RBtNK\",\"backBtn\":\"Button_backBtn__ZYIEr Button_btn__RBtNK\",\"showAll\":\"Button_showAll__UCL+B Button_btn__RBtNK\",\"clearBtn\":\"Button_clearBtn__4fQ8M\",\"activeClearBtn\":\"Button_activeClearBtn__2Oebb Button_clearBtn__4fQ8M\",\"swipeBtn\":\"Button_swipeBtn__GpAvj\",\"leftSwipeBtn\":\"Button_leftSwipeBtn__feCRt Button_swipeBtn__GpAvj\",\"rightSwipeBtn\":\"Button_rightSwipeBtn__m4Oxr Button_swipeBtn__GpAvj\",\"mobileBackBtn\":\"Button_mobileBackBtn__WWR2z Button_swipeBtn__GpAvj\"};","import s from './Button.module.css';\n\nfunction Button({\n  type,\n  onClick,\n  styledClass,\n  text = '',\n  disabled = false,\n  dataAction = null,\n  icon = '',\n}) {\n  return (\n    <>\n      <button\n        type={type}\n        onClick={onClick}\n        className={s[styledClass]}\n        disabled={disabled}\n        data-action={dataAction}\n      >\n        {text}\n        {icon && (\n          <svg width=\"30\" height=\"30\">\n            <use href={icon}></use>\n          </svg>\n        )}\n      </button>\n    </>\n  );\n}\n\nexport default Button;\n","// extracted by mini-css-extract-plugin\nexport default {\"gallery\":\"Gallery_gallery__RNraJ\",\"galleryItem\":\"Gallery_galleryItem__YToG8\",\"galleryLink\":\"Gallery_galleryLink__UIQiB\"};","// extracted by mini-css-extract-plugin\nexport default {\"movieCard\":\"MovieCard_movieCard__jf5v8\",\"movieTitle\":\"MovieCard_movieTitle__61Rqx\",\"movieImg\":\"MovieCard_movieImg__YAoiQ\"};","import s from './MovieCard.module.css';\nimport fallbackPhoto from 'images/fallbackPhoto.jpg';\n\nconst IMG_URL = 'https://image.tmdb.org/t/p/w342';\n\nfunction MovieCard({ movie }) {\n  return (\n    <div className={s.movieCard}>\n      <h3 className={s.movieTitle}>{movie.title || movie.name}</h3>\n      <img\n        className={s.movieImg}\n        src={\n          movie.poster_path\n            ? `${IMG_URL}${movie.poster_path}`\n            : `${fallbackPhoto}`\n        }\n        alt={movie.title || movie.name}\n      ></img>\n    </div>\n  );\n}\n\nexport default MovieCard;\n","import s from './Gallery.module.css';\n\nimport { Link } from 'react-router-dom';\n\nimport { getSlug } from 'services/serviceSlugify';\nimport MovieCard from 'components/MovieCard';\n\nfunction Gallery({ movies, location }) {\n  return (\n    <>\n      <ul className={s.gallery}>\n        {movies.map(el => (\n          <li className={s.galleryItem} id={el.id} key={el.id}>\n            <Link\n              className={s.galleryLink}\n              to={`/movies/${getSlug(el)}`}\n              state={location}\n            >\n              <MovieCard movie={el} />\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n}\n\nexport default Gallery;\n","// extracted by mini-css-extract-plugin\nexport default {\"pagination\":\"Pagination_pagination__vcNDC\",\"text\":\"Pagination_text__xb4KQ\"};","import s from './Pagination.module.css';\n\nimport Button from 'components/Button';\n\nfunction Pagination({ page, totalPages, onClick }) {\n  return (\n    <div className={s.pagination}>\n      <Button\n        type=\"button\"\n        styledClass=\"btn\"\n        dataAction=\"decrement\"\n        disabled={page === 1}\n        onClick={onClick}\n        text=\"prev page\"\n      />\n      {page ? <span className={s.text}>{page}</span> : <p>...loading</p>}\n\n      <Button\n        type=\"button\"\n        styledClass=\"btn\"\n        dataAction=\"increment\"\n        disabled={page >= totalPages}\n        onClick={onClick}\n        text=\"next page\"\n      />\n    </div>\n  );\n}\n\nexport { Pagination };\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"MoviesPage_form__2deBf\",\"input\":\"MoviesPage_input__16dJ5\",\"wrapper\":\"MoviesPage_wrapper__EBegj\",\"searchRequest\":\"MoviesPage_searchRequest__dD25Z\"};","// import { useState } from 'react';\nimport Gallery from 'components/Gallery';\nimport s from './MoviesPage.module.css';\nimport { Pagination } from 'components/Pagination';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport { fetchMovieByQuery } from 'services/serviceAPI';\nimport { useLocation, useSearchParams } from 'react-router-dom';\n\nfunction MoviesPage() {\n  // const [page, setPage] = useState(1);\n  const [movies, setMovies] = useState([]);\n  const [totalPages, setTotalPages] = useState(1);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n  const page = searchParams.get('page') ?? 1;\n\n  const location = useLocation();\n\n  useEffect(() => {\n    if (!query?.trim().length) {\n      setMovies([]);\n      return;\n    }\n\n    query &&\n      fetchMovieByQuery({ query: query, page })\n        .then(data => {\n          setMovies(data.results);\n          setTotalPages(data.total_pages);\n        })\n        .catch(err => console.log(err));\n  }, [page, query]);\n\n  const onInputChange = e => {\n    const query = e.target.value;\n    setSearchParams(searchParams => {\n      searchParams.set('query', query);\n      searchParams.set('page', 1);\n      return searchParams;\n    });\n  };\n\n  const handlePageChange = e => {\n    const action = e.target.dataset.action;\n    let newPage;\n    action === 'decrement'\n      ? (newPage = Number(page) - 1)\n      : (newPage = Number(page) + 1);\n\n    setSearchParams(searchParams => {\n      searchParams.set('page', newPage);\n      return searchParams;\n    });\n  };\n\n  return (\n    <>\n      <form className={s.form}>\n        <input\n          className={s.input}\n          value={query}\n          onChange={onInputChange}\n          autoComplete=\"off\"\n          autoFocus\n        ></input>\n        <div className={s.wrapper}></div>\n      </form>\n\n      {movies.length ? (\n        <>\n          <Gallery movies={movies} location={location}></Gallery>\n          <Pagination\n            page={page}\n            totalPages={totalPages}\n            onClick={handlePageChange}\n            movies={movies}\n          />\n        </>\n      ) : (\n        <p className={s.searchRequest}>...enter your query</p>\n      )}\n    </>\n  );\n}\n\nexport default MoviesPage;\n"],"names":["_ref","type","onClick","styledClass","_ref$text","text","_ref$disabled","disabled","_ref$dataAction","dataAction","_ref$icon","icon","_jsx","_Fragment","children","_jsxs","className","s","width","height","href","movie","title","name","src","poster_path","concat","fallbackPhoto","alt","movies","location","map","el","id","Link","to","getSlug","state","MovieCard","Pagination","page","totalPages","Button","_searchParams$get","_searchParams$get2","_useState","useState","_useState2","_slicedToArray","setMovies","_useState3","_useState4","setTotalPages","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","query","get","useLocation","useEffect","trim","length","fetchMovieByQuery","then","data","results","total_pages","catch","err","console","log","value","onChange","e","target","set","autoComplete","autoFocus","Gallery","newPage","action","dataset","Number"],"sourceRoot":""}